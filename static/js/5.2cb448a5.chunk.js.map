{"version":3,"sources":["components/component/common/Fields/Field.jsx","components/component/common/Fields/Field.module.css","utils/validators/validators.js","hoc/withAuthRedirect.js","components/component/Dialogs/Dialog/DialogItem.module.css","components/component/Dialogs/Message/Message.module.css","components/component/Dialogs/Dialogs.module.css","components/component/Dialogs/Dialog/DialogItem.jsx","components/component/Dialogs/Message/Message.jsx","components/component/Dialogs/Dialogs.jsx","components/component/Dialogs/DialogsContainer.jsx"],"names":["FieldWithError","hasError","meta","classStyle","props","className","s","children","errorInfo","error","Textarea","input","touched","cn","errorField","Input","CreateField","type","name","placeholder","validate","component","labelText","module","exports","required","value","maxLength","length","mapStateToPropsForAuth","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","DialogItem","link","id","profileItem","src","avatar","alt","item","activeClassName","active","Message","author","message","messageWrapper","right","maxLength150","DialogsReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","btn","Dialogs","memo","addMessage","dialogs","messages","dialogs_wrapper","dialogs_items","compose","map","dialog","key","allMessages"],"mappings":"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","file":"static/js/5.2cb448a5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from \"./Field.module.css\";\r\nimport { Field } from \"redux-form\";\r\nimport cn from \"classnames\"\r\n\r\nconst FieldWithError = ({ hasError, meta, classStyle, ...props }) => {\r\n    return (\r\n        <div className={s[classStyle]}>\r\n            {props.children}\r\n            {hasError && <span className={s.errorInfo}>{meta.error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError = meta.error && meta.touched;\r\n\r\n    return (\r\n        <FieldWithError\r\n            hasError={hasError}\r\n            meta={meta}\r\n            classStyle=\"textAreaWrapper\"\r\n        >\r\n            <textarea\r\n                {...input}\r\n                {...props}\r\n                className={ cn({ [s.errorField]: hasError})}\r\n            />\r\n        </FieldWithError>\r\n    );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    const hasError = meta.error && meta.touched;\r\n\r\n    return (\r\n        <FieldWithError\r\n            hasError={hasError}\r\n            meta={meta}\r\n            classStyle=\"inputWrapper\"\r\n        >\r\n            <input\r\n                {...input}\r\n                {...props}\r\n                className={cn({[s.errorField] : hasError})}\r\n            />\r\n        </FieldWithError>\r\n    );\r\n};\r\n\r\nexport const CreateField = (className, type, name, placeholder, validate, component, labelText) => (\r\n    <div className={s[className]}>\r\n        <Field type={type} name={name} placeholder={placeholder}\r\n            validate={validate} component={component} />\r\n        {labelText && <label>{labelText}</label>}\r\n    </div>\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorField\":\"Field_errorField__2KsUJ\",\"errorInfo\":\"Field_errorInfo__3IhA1\",\"textAreaWrapper\":\"Field_textAreaWrapper__21fgV\",\"inputWrapper\":\"Field_inputWrapper__3M01m\",\"passInput\":\"Field_passInput__kA2Lo\",\"rememberMe\":\"Field_rememberMe__3S1-H\"};","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return \"Field is required!\";\r\n};\r\n\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength)\r\n        return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForAuth = ({ auth }) => ({\r\n    isAuth: auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n\r\n    let withRedirect = connect(mapStateToPropsForAuth)(RedirectComponent);\r\n    return withRedirect;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"DialogItem_item__1aXog\",\"active\":\"DialogItem_active__2_OCq\",\"profileItem\":\"DialogItem_profileItem__2aEim\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageWrapper\":\"Message_messageWrapper__1rSvX\",\"message\":\"Message_message__1i1ps\",\"right\":\"Message_right__1cYAZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_wrapper\":\"Dialogs_dialogs_wrapper__1L-B7\",\"dialogs\":\"Dialogs_dialogs__3RR4D\",\"dialogs_items\":\"Dialogs_dialogs_items__MQvYV\",\"messageWrapper\":\"Dialogs_messageWrapper__1EYLR\",\"btn\":\"Dialogs_btn__12Ire\"};","import React from \"react\";\r\nimport s from \"./DialogItem.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let link = \"/dialogs/\" + props.id;\r\n    return (\r\n        <div className={s.profileItem}>\r\n            <img src={props.avatar} alt=\"avatar\" />\r\n            <NavLink to={link} className={s.item} activeClassName={s.active}>\r\n                <div className={s.name}>{props.name}</div>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport s from \"./Message.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nconst Message = ({ author, message, avatar }) => {\r\n    return (\r\n        <div className={cn(s.messageWrapper, { [s.right]: author })}>\r\n            <div className={s.message}>\r\n                {author && message}\r\n                <img src={avatar} alt=\"avatar\" />\r\n                {!author && message}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { maxLength } from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../common/Fields/Field\";\r\n\r\nlet maxLength150 = maxLength(1000);\r\n\r\nconst AddMessageForm = ({ handleSubmit }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Field\r\n                component={Textarea}\r\n                name=\"message\"\r\n                placeholder=\"Enter Message\"\r\n                validate={[maxLength150]}\r\n            />\r\n            <div className={s.btn}>\r\n                <button>Enter</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst DialogsReduxForm = reduxForm({ form: \"message\" })(AddMessageForm);\r\n\r\nconst Dialogs = React.memo(({ addMessage, dialogs, messages }) => {\r\n    const addMessageFunc = ({ message }) => {\r\n        addMessage(message);\r\n    };\r\n\r\n    return (\r\n        <div className={s.dialogs_wrapper}>\r\n            <h2>\r\n                All Dialogs\r\n                <hr />\r\n            </h2>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogs_items}>{dialogs}</div>\r\n                <div className={s.messageWrapper}>\r\n                    <div className={s.messages}>{messages}</div>\r\n                    <hr />\r\n                    <DialogsReduxForm onSubmit={addMessageFunc} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport DialogItem from \"./Dialog/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { addMessActionCreator as addMessage } from \"../../../redux/dialogs_reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from \"../../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nlet MapStateToProps = ({ dialogs }) => {\r\n    const allDialogs = dialogs.dialogs.map((dialog) => (\r\n        <DialogItem {...dialog} key={dialog.id} />\r\n    ));\r\n\r\n    const allMessages = dialogs.messages.allMessages.map((message) => (\r\n        <Message {...message} key={message.id} />\r\n    ));\r\n\r\n    return {\r\n        dialogs: allDialogs,\r\n        messages: allMessages,\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(MapStateToProps, { addMessage })\r\n)(Dialogs);\r\n"],"sourceRoot":""}